[{"Owner":"Dinkelborg","Date":"2015-08-26T10:03:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi_co_ has been a while _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_&lt_sm_fileStore.core_Emoticons&gt_sm_/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_Â _lt_/p_gt__lt_p_gt_however I started a new project using BabylonJS_co__lt_/p_gt__lt_p_gt_where I_t_m importing a model from Blender into a scene_co__lt_/p_gt__lt_p_gt_now for some reason I cannot get it to cast a shadow._lt_/p_gt__lt_p_gt_Â _lt_/p_gt__lt_p_gt_I added a cube next to it and it does cast a shadow_co_Â _lt_br_gt_I_t_m also adding both the cube and the model to the renderList of the shadow generator.._lt_br_gt__lt_br_gt_Any ideas or suggestions what I could try or why it wouldn_t_t work?_lt_/p_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_08_2015/post-11235-0-64082200-1440583400.png_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_08_2015/post-11235-0-64082200-1440583400.png_qt_ data-fileid_eq__qt_4950_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-11235-0-64082200-1440583400.png_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-08-26T11:37:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi_co__lt_/p_gt__lt_p_gt_Â _lt_/p_gt__lt_p_gt_Maybe your light is not high enough._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dinkelborg","Date":"2015-08-26T12:32:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var spot _eq_ new BABYLON.SpotLight(_qt_Lamp_qt__co_BABYLON.Vector3.zero_co_BABYLON.Vector3.zero_co_2.5_co_8_co_scene)_sm_        spot.intensity _eq_ 1.75_sm_        spot.diffuse _eq_ new BABYLON.Color3(0.9_co_ 0.8_co_ 0.8)_sm_        spot.angle _eq_ 5_sm_        spot.exponent _eq_ 8_sm_        spot.position _eq_ new BABYLON.Vector3(-17.6_co_ 18.8_co_ -49.9)_sm_        spot.setDirectionToTarget(new BABYLON.Vector3(0_co_ 0_co_ 0))_sm__lt_/pre_gt__lt_p_gt_The Building is about 3 unity high as the cube floating next to it is at position.y _eq_ 3Â _lt_/p_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_08_2015/post-11235-0-73772000-1440592435.png_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_08_2015/post-11235-0-73772000-1440592435.png_qt_ data-fileid_eq__qt_4953_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-11235-0-73772000-1440592435.png_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-08-26T15:52:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_can you try with a directional one?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dinkelborg","Date":"2015-09-10T13:50:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I tried with a directional light and with a directional light I cannot cast any shadow at all_co_ however when all mesh parts are kept separate_co_ I can cast shadows with a spot light_co_ but not with everything combined to one mesh_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-10T18:52:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Did you try to change the shadowGenerator.bias ?_lt_/p_gt__lt_p_gt_Â _lt_/p_gt__lt_p_gt_You can also try to display the debugLayer with scene.debugLayer.show() and use the [Dump rendertargets] button to see the content of the shadow maps_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jellix","Date":"2016-05-05T09:54:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI habe the same question now.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt seems that my imported mesh (OJB)Â also doesn_t_t cast any shadows while a simple box does.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"lesterhaus","Date":"2016-05-05T12:14:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCould you post the part of your code where you push the mesh (or meshes) into the shadowMaps renderList?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMostly dealing with .babylon importsÂ - butÂ I usually do this inside the callback of e.g. my SceneLoader like this_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_BABYLON.SceneLoader.Load(modelPath_co_ modelName_co_ engine_co_ (scene) _eq_&gt_sm_ {\n    // Wait for textures and shaders to be ready\n    scene.executeWhenReady( () _eq_&gt_sm_ {\n        \n        for (var i _eq_ 0_sm_ i &lt_sm_ scene.meshes.length_sm_ i++) {\n            let mesh _eq_ scene.meshes[i]_sm_\n\n            shadowGenerator.getShadowMap().renderList.push(mesh)_sm_\n            mesh.receiveShadows _eq_ true_sm_\n        }\n    \n    })_sm_\n})_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ariespranata","Date":"2018-06-17T01:15:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi there_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think I have the same problem and still don_t_t have the solution.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere_t_s theÂ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#JUKXQD%2317_qt_ rel_eq__qt_external nofollow_qt__gt_Playground link_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe skull doesn_t_t cast any shadow_co_ while the sphere is fine.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-06-17T03:54:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHiya ariespranata_co_ welcome to the forum.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ Â Â  Imported meshes make great BabylonJS shadows... but sometimes it takes a little adjusting.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#JUKXQD%2319_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#JUKXQD#19_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor a moment_co_ let_t_s look at the #17 playground... lines 25-32_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBABYLON.SceneLoader.ImportMesh(_qt__qt__co_ _qt_scenes/_qt__co_ _qt_skull.babylon_qt__co_ scene_co_ _lt_span style_eq__qt_color_dd_#c0392b_sm__qt__gt_function (newMeshes) {_lt_br /_gt_\n\tÂ Â Â Â  // Set the target of the camera to the first imported mesh_lt_br /_gt_\n\tÂ Â Â Â  camera.target _eq_ newMeshes[0]_sm__lt_br /_gt_\n\tÂ Â Â Â  shadowGenerator.getShadowMap().renderList.push(newMeshes[0])_sm__lt_br /_gt_\n\tÂ Â Â Â  //shadowGenerator.addShadowCaster(mesh)_sm__lt_br /_gt_\n\tÂ Â Â Â  newMeshes[0].receiveShadows _eq_ true_sm__lt_br /_gt_\n\tÂ Â Â Â  // add stuff here_lt_br /_gt_\n\tÂ Â Â Â  // add stuff here_lt_/span_gt__lt_br /_gt_\n\t_lt_span style_eq__qt_color_dd_#c0392b_sm__qt__gt_Â Â Â Â  // add stuff here_lt_/span_gt__lt_br /_gt_\n\t_lt_span style_eq__qt_color_dd_#c0392b_sm__qt__gt_})_sm__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_This red area... is called the loader _qt_onSuccess_qt_ callback function.Â  Now look at the #19 playground._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_BABYLON.SceneLoader.ImportMesh(_qt__qt__co_ _qt_scenes/_qt__co_ _qt_skull.babylon_qt__co_ scene_co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#c0392b_sm__qt__gt_function (newMeshes) {_lt_br /_gt_\n\tÂ Â Â Â  // Set the target of the camera to the first imported mesh_lt_br /_gt_\n\tÂ Â Â Â  camera.target _eq_ newMeshes[0]_sm__lt_br /_gt_\n\tÂ Â Â Â  var shadowGenerator _eq_ new BABYLON.ShadowGenerator(1024_co_ light)_sm__lt_br /_gt_\n\tÂ Â Â Â  shadowGenerator.useBlurExponentialShadowMap _eq_ true_sm__lt_br /_gt_\n\tÂ Â Â Â  shadowGenerator.useKernelBlur _eq_ true_sm__lt_br /_gt_\n\tÂ Â Â Â  shadowGenerator.blurKernel _eq_ 64_sm__lt_br /_gt_\n\tÂ Â Â Â  shadowGenerator.forceBackFacesOnly _eq_ true_sm__lt_br /_gt_\n\tÂ Â Â Â  shadowGenerator.getShadowMap().refreshRate _eq_ BABYLON.RenderTargetTexture.REFRESHRATE_RENDER_ONCE_sm__lt_br /_gt_\n\tÂ Â Â Â  shadowGenerator.getShadowMap().renderList.push(newMeshes[0])_sm__lt_br /_gt_\n\t_lt_br /_gt_\n\tÂ Â Â Â  var sphere _eq_ BABYLON.Mesh.CreateSphere(_qt_sphere1_qt__co_ 16_co_ 20_co_ scene)_sm__lt_br /_gt_\n\tÂ Â Â Â  sphere.position.x _eq_ 50_sm__lt_br /_gt_\n\tÂ Â Â Â  sphere.position.z _eq_ 50_sm__lt_br /_gt_\n\t_lt_br /_gt_\n\tÂ Â Â Â  shadowGenerator.getShadowMap().renderList.push(sphere)_sm__lt_br /_gt_\n\tÂ Â Â Â  newMeshes[0].receiveShadows _eq_ true_sm__lt_br /_gt_\n\t})_sm__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_Notice how I placed MANY things that happened AFTER the onSuccess callback... INTO the callback function _qt_block_qt_.Â  When importing mesh using the sceneLoader_co_ MOST of the JS code needs to happen INSIDE the callback function_co_ and not after it.Â  _lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_Later_co_ you may wish to use the more-modern _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/how_to/how_to_use_assetsmanager_qt_ rel_eq__qt_external nofollow_qt__gt_BabylonJS AssetsManager_lt_/a_gt_... to do your mesh loading.Â  It is sometimes easier to understand and more efficient than sceneLoader._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_I hope I have been helpful.Â  For fun_co_ I tried to spin the spotlight around the skull_co_ while keeping it aimed at the skull.Â Â _lt_/span_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#JUKXQD%2322_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#JUKXQD#22_lt_/a_gt__lt_span_gt_Â  Fun!_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ariespranata","Date":"2018-06-17T06:20:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks_co_ Wingnut! you_t_re a lifesaver.Â _lt_span class_eq__qt_ipsEmoji_qt__gt_ğŸ˜_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is my first time using BabylonJS_co_ I_t_llÂ surely explore the AssetsManager.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBtw_co_ just in case anyone else having the sameÂ problem_co_ my actual imported mesh is consists of many mesh(es). It was exported from 3ds Max as a group. Thus_co_ instead ofÂ \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_shadowGenerator.getShadowMap().renderList.push(newMeshes[0])_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\twe should use_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_newMeshes.forEach(function (mesh) {\n    shadowGenerator.getShadowMap().renderList.push(mesh)_sm_\n})_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tat first I thought BabylonJS would recognize my _t_group_t_ as 1 mesh_co_ but apparently that_t_s not how it_t_s working.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-06-18T22:57:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tJust for the sake of it_co_ it is also now possible to call_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_shadowGenerator.addShadowCaster(mesh)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tBecause_co_ well_co_ less code is better _lt_span_gt__lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt__gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]