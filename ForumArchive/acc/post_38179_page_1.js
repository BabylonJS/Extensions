[{"Owner":"AlexB","Date":"2018-06-11T20:31:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI think I_t_ll be posting a lot as we port from ThreeJS over to Babylon_co_ so apologies._lt_br /_gt_\n\t_lt_br /_gt_\n\tOur application allows user input to affect the appears of a 3D object. A user can change out a material on an object. Sometimes_co_ this means that the uniforms should change. For instance_co_ we may want to use a structure like_dd__lt_br /_gt_\n\t_lt_br /_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_  struct Graphic {\n      vec2 flip_sm_\n      vec2 offset_sm_\n      float rotation_sm_\n      vec2 scale_sm_\n      sampler2D texture_sm_\n      sampler2D normal_sm_\n }_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tHowever_co_ if the graphic does not have a normal texture_co_ we don_t_t need that texture slot so I_t_ll write the structure on the fly like this_dd__lt_br /_gt_\n\t_lt_br /_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_  struct Graphic {\n      vec2 flip_sm_\n      vec2 offset_sm_\n      float rotation_sm_\n      vec2 scale_sm_\n      sampler2D texture_sm_\n      vec3 normal_sm_\n  }_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tSo when I create a ShaderMaterial_co_ it allows me to send in a frag shader and a vertex shader as string_co_ like so_dd__lt_br /_gt_\n\t_lt_br /_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_const material_dd_ any _eq_ new BABYLON.ShaderMaterial(\n          name_co_\n          scene_co_\n          {\n            vertex_dd_ _t_some vertex_t__co_\n            fragment_dd_ _t_some fragment_t__co_\n          }_co_\n          {\n            // options\n          }\n        )_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tBut how can I later update that frag shader with new text?_lt_br /_gt_\n\t_lt_br /_gt_\n\tSomething like_dd__lt_br /_gt_\n\tmaterial.fragmentShader _eq_ newFrag_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\tEDIT_dd_ It also looks like I can_t_t just set the frag and vertex code as a string. Does it have to be wrapped somehow?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-06-11T20:53:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_ welcome and no need for apologies _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_Regarding your question_dd_ as the shaders (both) are linked into a program_co_ you have to rebuild it entirely so this means you will have to dispose the current material and creates a new one (Also I encourage you using defines as babylon.js will be able to optimize and cache effects for you)_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"AlexB","Date":"2018-06-11T21:20:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tUpdate_dd_ I have a shader loading using the ShadersStore array._lt_br /_gt_\n\t_lt_br /_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_ BABYLON.Effect.ShadersStore[`${part.url}FragmentShader`] _eq_ `\n            precision highp float_sm_\n            varying vec2 vUV_sm_\n\n\n            struct Color {\n              vec3 color\n            }\n\n            Color myColor_sm_\n\n            void main(void) {\n              gl_FragColor _eq_ vec4(1._co_ 0._co_ 0._co_ 1.)_sm_\n            }\n        `_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThis works_co_ and I can update the fragment shader. But it appears that Babylon doesn_t_t support GLSL structures? Is there a way to access the shader uniforms directly?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"AlexB","Date":"2018-06-11T21:23:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSo by defines_co_ you mean having conditional code in the same shader_co_ but omitting one by setting a flag?\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_#ifdef HAS_METALROUGHNESSMAP\n\nuniform sampler2D u_MetallicRoughnessSampler_sm_\n\n#endif_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"AlexB","Date":"2018-06-12T14:27:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_Â am I right that Babylon does not support GLSL struct objects?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-06-12T16:49:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\twe support all glsl data structure and we are even using struct internally. So it should work\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf you can repro in the Playground I will be able to probably help\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"AlexB","Date":"2018-06-12T17:07:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_217932_qt_ data-ipsquote-contentid_eq__qt_38179_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1528822176_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t12 minutes ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\twe support all glsl data structure and we are even using struct internally. So it should work\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tIf you can repro in the Playground I will be able to probably help\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tI was referring to this bit of code in ShaderMaterial where it lists all the uniform types_dd__lt_br /_gt_\n\t_lt_br /_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_private _textureArrays_dd_ { [name_dd_ string]_dd_ Texture[] } _eq_ {}_sm_\n\nprivate _floats_dd_ { [name_dd_ string]_dd_ number } _eq_ {}_sm_\n\nprivate _ints_dd_ { [name_dd_ string]_dd_ number } _eq_ {}_sm_\n\nprivate _floatsArrays_dd_ { [name_dd_ string]_dd_ number[] } _eq_ {}_sm_\n\nprivate _colors3_dd_ { [name_dd_ string]_dd_ Color3 } _eq_ {}_sm_\n\nprivate _colors3Arrays_dd_ { [name_dd_ string]_dd_ number[] } _eq_ {}_sm_\n\nprivate _colors4_dd_ { [name_dd_ string]_dd_ Color4 } _eq_ {}_sm_\n\nprivate _vectors2_dd_ { [name_dd_ string]_dd_ Vector2 } _eq_ {}_sm_\n\nprivate _vectors3_dd_ { [name_dd_ string]_dd_ Vector3 } _eq_ {}_sm_\n\nprivate _vectors4_dd_ { [name_dd_ string]_dd_ Vector4 } _eq_ {}_sm_\n\nprivate _matrices_dd_ { [name_dd_ string]_dd_ Matrix } _eq_ {}_sm_\n\nprivate _matrices3x3_dd_ { [name_dd_ string]_dd_ Float32Array } _eq_ {}_sm_\n\nprivate _matrices2x2_dd_ { [name_dd_ string]_dd_ Float32Array } _eq_ {}_sm_\n\nprivate _vectors2Arrays_dd_ { [name_dd_ string]_dd_ number[] } _eq_ {}_sm_\n\nprivate _vectors3Arrays_dd_ { [name_dd_ string]_dd_ number[] } _eq_ {}_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tIt doesn_t_t appear that I can set a Struct type_co_ like so_dd__lt_br /_gt_\n\t_lt_br /_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#ATDL99%231_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#ATDL99#1_lt_/a_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\t* Note that I_t_m trying to use a myColor.color vec3 instead of fogColor\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-06-12T18:00:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\toh ok understood.. we were not on the same page _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_It is not supported you are right as this is not a basic type..But happy to merge a PR if you want to add it_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"AlexB","Date":"2018-06-12T18:14:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_217946_qt_ data-ipsquote-contentid_eq__qt_38179_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1528826423_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t13 minutes ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\toh ok understood.. we were not on the same page _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t_lt_span_gt_It is not supported you are right as this is not a basic type..But happy to merge a PR if you want to add it_lt_/span_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tGotcha. I_t_ll look into adding support for that. Would it just affect ShaderMaterial and the _checkUniform method? I don_t_t quite understand all your code yet. It_t_s changed a lot since I last used it _lt_span_gt__lt_span class_eq__qt_ipsEmoji_qt__gt_ðŸ™‚_lt_/span_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-06-12T18:21:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI hope it is better now _sm_D\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt will affect shaderMaterial and probably the effect class (which is used internally to communicate with shaders)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"AlexB","Date":"2018-06-12T22:57:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_217949_qt_ data-ipsquote-contentid_eq__qt_38179_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1528827709_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t4 hours ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tI hope it is better now _sm_D\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tIt will affect shaderMaterial and probably the effect class (which is used internally to communicate with shaders)\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tIt turns out this is a harder problem than I thought. There is no low level method on the GL object to set structures_co_ so what the ThreeJS implementation is doing is looping through a structure and discovering each type in a recursive loop. Then it applies each struct property one by one. I_t_m not sure I have time to figure it out. I got a good start on it if anyone wants to give it a try. I can push up a branch.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-06-13T18:39:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAre you sure you want to stick with a struct then?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"AlexB","Date":"2018-06-13T19:11:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_218072_qt_ data-ipsquote-contentid_eq__qt_38179_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1528915198_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t28 minutes ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tAre you sure you want to stick with a struct then?\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tI was hoping that adding support for structures would be faster than re-wiring my shader_co_ but I think it_t_ll be faster to just use arrays. But I_t_d still love to have support for structs at some point. They make the shaders way more readable_co_ IMO._lt_br /_gt_\n\t_lt_br /_gt_\n\tThanks for your help!Â \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-06-13T19:54:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAgree! Please create an issue on our repo to track this need _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"AlexB","Date":"2018-06-13T20:07:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_218082_qt_ data-ipsquote-contentid_eq__qt_38179_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1528919693_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t11 minutes ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tAgree! Please create an issue on our repo to track this need _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/issues/4520_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/issues/4520_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nabroski","Date":"2018-06-19T04:47:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tjust in case someone find this post lurking for how to use struckts_co_ i leave it here._lt_br /_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#ATDL99%233_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#ATDL99#3_lt_/a_gt_Â \n_lt_/p_gt_\n\n_lt_p_gt_\n\tUniformBufferObjects would be nice anyway._lt_br /_gt_\n\tÂ \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"AlexB","Date":"2018-06-19T14:47:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_218611_qt_ data-ipsquote-contentid_eq__qt_38179_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1529383629_qt_ data-ipsquote-userid_eq__qt_21965_qt_ data-ipsquote-username_eq__qt_Nabroski_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t9 hours ago_co_ Nabroski said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tjust in case someone find this post lurking for how to use struckts_co_ i leave it here._lt_br /_gt_\n\t\t\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#ATDL99%233_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#ATDL99#3_lt_/a_gt_Â \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tUniformBufferObjects would be nice anyway._lt_br /_gt_\n\t\t\tÂ \n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tCan you give an example of how to use a uniform buffer object with Babylon? Our user base will all be on WebGL2 browsers.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-06-19T16:57:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYou can have a look in the BackgroundMaterial everywhereÂ _lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__uniformBuffer is used._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_This is the smaller material we have relying on UBO_dd__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Materials/Background/babylon.backgroundMaterial.ts_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Materials/Background/babylon.backgroundMaterial.ts_lt_/a_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nabroski","Date":"2018-06-20T11:17:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_span_gt__lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/9981-alexb/?do_eq_hovercard_qt_ data-mentionid_eq__qt_9981_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/9981-alexb/_qt_ rel_eq__qt__qt__gt_@AlexB_lt_/a_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_sorry_co_ i have to pass on this one. my sketch_lt_br /_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#CNE3P8_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#CNE3P8Â _lt_/a_gt__lt_/span_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\tBabylonjs have a new shader system (or something like wise) you have to bind the uniform to createEffect not createShaderÂ somehow. Ask a questions in this forum_co_ i have no idea how to use it._lt_br /_gt_\n\t_lt_span_gt__lt_a href_eq__qt_http_dd_//doc.babylonjs.com/api/classes/babylon.engine#createshaderprogram_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/api/classes/babylon.engine#createshaderprogram_lt_/a_gt__lt_br /_gt_\n\t_lt_a href_eq__qt_http_dd_//doc.babylonjs.com/api/classes/babylon.engine#createEffect_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/api/classes/babylon.engine#createEffect_lt_/a_gt__lt_/span_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\tGood Luck_lt_br /_gt_\n\t_lt_br /_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/20193-sebavan/?do_eq_hovercard_qt_ data-mentionid_eq__qt_20193_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/20193-sebavan/_qt_ rel_eq__qt__qt__gt_@Sebavan_lt_/a_gt__lt_br /_gt_\n\tYeah\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-06-20T15:11:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_218672_qt_ data-ipsquote-contentid_eq__qt_38179_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1529419645_qt_ data-ipsquote-userid_eq__qt_9981_qt_ data-ipsquote-username_eq__qt_AlexB_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 6/19/2018 at 7_dd_47 AM_co_ AlexB said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tCan you give an example of how to use a uniform buffer object with Babylon? Our user base will all be on WebGL2 browsers.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n_lt_iframe allowfullscreen_eq__qt__qt_ data-controller_eq__qt_core.front.core.autosizeiframe_qt_ data-embedcontent_eq__qt__qt_ data-embedid_eq__qt_embed4290760095_qt_ scrolling_eq__qt_no_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/36576-understanding-buffers-better/?tab_eq_comments&amp_sm_do_eq_embed&amp_sm_comment_eq_209555&amp_sm_embedComment_eq_209555&amp_sm_embedDo_eq_findComment#comment-209555_qt_ style_eq__qt_height_dd_261px_sm_max-width_dd_502px_sm__qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\tI think this might help_co_ if a uniform buffer object is the same as a VBO._lt_br /_gt_\n\t_lt_br /_gt_\n\tIf I can find my grass simulation_co_ it covers a lot of this... let me see if I can find that this morning when things slow down at the office.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nabroski","Date":"2018-06-20T16:11:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/19199-pryme8/?do_eq_hovercard_qt_ data-mentionid_eq__qt_19199_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/19199-pryme8/_qt_ rel_eq__qt__qt__gt_@Pryme8_lt_/a_gt__lt_br /_gt_\n\tthanks for catching up. No their are not the same_lt_br /_gt_\n\t_lt_a href_eq__qt_https_dd_//learnopengl.com/Advanced-OpenGL/Advanced-GLSL_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//learnopengl.com/Advanced-OpenGL/Advanced-GLSL_lt_/a_gt__lt_br /_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/WebGLSamples/WebGL2Samples/blob/master/samples/buffer_uniform.html_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/WebGLSamples/WebGL2Samples/blob/master/samples/buffer_uniform.html_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-06-20T16:20:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWhoa_co_ I need to learn this!Â  Thank you. --- there are so many things to learn still with webGL_co_ this never gets old._lt_br /_gt_\n\t_lt_br /_gt_\n\t*UPDATE*_lt_br /_gt_\n\tOh my... I needed to of know this days ago_co_ wow... smh.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nabroski","Date":"2018-06-24T08:40:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tjust to be complite_lt_br /_gt_\n\t_lt_br /_gt_\n\tWebGL1_dd_Â Â _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#CNE3P8%232_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#CNE3P8#2_lt_/a_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\tAnd the babylonjs _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/api/classes/babylon.engine#createEffect_qt_ rel_eq__qt_external nofollow_qt__gt_createEffect_lt_/a_gt_Â is listening toÂ PostProcess\n_lt_/p_gt_\n\n_lt_div style_eq__qt_background-color_dd_#fffffe_sm_color_dd_#000000_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_div_gt_\n\t\t_lt_pre_gt_\n_lt_code_gt_var postProcess _eq_ new BABYLON.PostProcess(_qt_My custom post process_qt__co_ _qt_custom_qt__co_ [_qt_Block_qt_]_co_ null_co_ 0.25_co_ camera)_sm_\n   \n    postProcess.onApply _eq_ function (effect) {\n    \n\n        effect.bindUniformBlock(effect.getProgram()_co__qt_Block_qt_)\n  \n\n    }_sm_\n_lt_/code_gt__lt_/pre_gt_\n\t_lt_/div_gt_\n_lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]